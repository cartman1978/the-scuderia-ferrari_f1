{% extends 'layout/base.html' %}
{% block content %}
{% include 'components/navigation/navigation.html' %}

<div class="container">
    <div class="input-group justify-content-center mt-4">
        <form action="{{ url_for('search') }}" method="POST">
            <div class="form-outline">

                <input type="text" name="query" id="query" minlength="2" class="form-control" required />
                <label class="form-label" for="query">Search</label>

            </div>
        </form>
        <a type="submit" class="btn btn-primary" id="btn-search">
            <i class="fas fa-search"></i>
        </a>
    </div>

    {% if car|length >= 0 %}
    <div class="row row justify-content-center mt-4">
        {% for car in cars %}

        <div class="card mb-3" style="max-width: 840px;">

            <div class="row g-0">
                <div class="col-md-4">
                    <img src="{{ car.car_image }}" class="imgCard" alt="ferrari image">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <ul class="list-group list-group-flush">

                            <li class="list-group-item"><strong>Year</strong>: {{ car.car_year }}</li>
                            <li class="list-group-item"><strong>Name</strong>: {{ car.car_name }}</li>
                            <li class="list-group-item"><strong>Designer</strong>: {{ car.car_design }}</li>

                        </ul>

                        <ul class="list-group list-group-flush">


                            <li class="list-group-item"><strong>Engine</strong>: {{ car.spec_engine }}</li>
                            <li class="list-group-item"><strong>Power</strong>: {{ car.car_power }}</li>
                            <li class="list-group-item"><strong>Trasmission</strong>: {{ car.trasmission }}</li>

                            <li class="list-group-item"><strong>Races</strong>: {{ car.races }}</li>
                            <li class="list-group-item"><strong>Wins</strong>: {{ car.wins }}</li>
                            <li class="list-group-item"><strong>Podiums</strong>: {{ car.podiums }}</li>
                            <li class="list-group-item"><strong>Poles</strong>: {{ car.poles }}</li>
                            <li class="list-group-item"><strong>Fast Laps</strong>: {{ car.fast_laps }}</li>
                            <li class="list-group-item"><strong>Constructor Championship</strong>: {{
                                car.constructor_champ
                                }}</li>
                            <li class="list-group-item"><strong>Driver Championship</strong>: {{ car.drivers_champ }}
                            </li>
                            <li class="list-group-item"><strong>Description</strong>: {{ car.description }}</li>

                            <p><em>Created by: {{ car.created_by }}</em></p>

                        </ul>

                        {% if session.user|lower == car.created_by|lower %}


                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <div class="button is-danger is-rounded" data-modal-type="type1" aria-label="Delete"
                                id="edit-btn"><i class=" fas fa-trash-alt"></i> Delete
                            </div>

                            <a href="{{ url_for('editcar', car_id=car._id) }}" class="button is-danger is-rounded"
                                id="edit-btn"><i class="far fa-edit"></i> Edit</a>

                            {% include 'components/modals/confirm.html' %}
                        </div>

                    </div>




                    {% endif %}





                </div>

            </div>

        </div>

        {% endfor %}

    </div>

    {% else %}
    <h3 class="text-center profileHeader">
        No Car Found for this year
    </h3>
    {% endif %}

</div>








{% endblock %}